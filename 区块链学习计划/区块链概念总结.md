# 区块链1.0技术

## 比特币

比特币就是一个分布式的账务系统

比特币所解决的四个问题：

1、高度自治

2、无国界自由贸易（缩减了交易过程中的繁琐步骤）

3、账户的不可篡改性（一旦交易达成就不能篡改其中的数据）

4、隐私安全



## 账本隐私和快速对账

比特币系统利用hash算法对交易信息（账户、交易内容）进行加密，保护隐私

比特币系统利用hash值进行对账



## 账本一致性

![image-20230910110837087](C:\Users\12404\Desktop\区块链学习计划\image-20230910110837087.png)

nonce次数称之为挖矿次数，而上图中通过改变nonce值来重复计算达到小于目标哈希值的过程就是挖矿，而上图中这一整套流程的算法称为工作量证明（pow）

所以比特币系统解决双花（双重支付）问题的措施有两个：

1、比特币系统规则：最长链为可信赖链 

2、采用工作量证明（pow）获取记账权



## 比特币的分叉

分叉是由于不同的矿工用不同版本的比特币系统进行挖矿导致的链条分叉

分叉类型分为硬分叉和软分叉

硬分叉：因为系统更新导致出现分支，并且不可合并。比如比特币的扩容；

![image-20230915160025432](C:\Users\12404\Desktop\区块链学习计划\硬分叉.png)

软分叉：可合并。比如篡改数据。



## 区块链技术

![image-20230915160301182](C:\Users\12404\Desktop\区块链学习计划\区块链技术.png)

#### 1、分布式数据存储

在每个参与者电脑上备份；

账本实时同步和对账。

#### 2、点对点通信

#### 3、共识机制

![image-20230915160808205](C:\Users\12404\Desktop\区块链学习计划\共识机制.png)

#### 4、加密算法

![image-20230915160913600](C:\Users\12404\Desktop\区块链学习计划\加密算法.png)



# 区块链2.0技术

## 以太坊出现原因

#### 1、交易速度变快

#### 2、POW+POS算法，逐步向POS算法过渡

![image-20230915161810486](C:\Users\12404\Desktop\区块链学习计划\POS.png)

#### 3、智能合约

不受人为因素影响，没有黑幕。

违反规则，直接扣除保证金。

### 总结

![image-20230916104236405](C:\Users\12404\Desktop\区块链学习计划\比特币的不足与以太坊的解决办法.png)



## 以太坊专业词汇

![image-20230916113605890](C:\Users\12404\Desktop\区块链学习计划\油钱.png)



## 智能合约

跑在以太坊系统中的代码合同，实质是一段代码。主流是solidity

它是一个去中心化的、公之于众的、被所有人监督的代码合同。

如果业务规则是经常变化的则不能用智能合约编写，因为智能合约一旦写完运行在以太坊平台，是无法通过软件升级去进行规则更新的。



## 以太坊的ghost协议

![image-20230917103155962](C:\Users\12404\Desktop\区块链学习计划\ghost协议图1.png)

![image-20230917103600497](C:\Users\12404\Desktop\区块链学习计划\ghost协议图2.png)



## 以太坊的挖矿算法

#### 1、POS算法

比如你将自己的法币转换成虚拟货币然后下注去进行挖矿，当你下注的币越多当轮区块挖掘就越轻松，但当你当轮结束后你下注的币就会被暂时冻结，只有到规定的几轮后才能再次使用。

![image-20230917104622338](C:\Users\12404\Desktop\区块链学习计划\POS算法.png)

#### 2、casper协议

pow算法和pos算法混合使用

比如你使用pow算法挖去得到一个区块，交由pos算法中的校验者来进行校验，看是否能成为主链上的区块。

![image-20230917105525621](C:\Users\12404\Desktop\区块链学习计划\casper.png)

当然想要成为校验者，你需要投入一定数量的以太币作为保证金，投入以太币的多少决定后续投票的权重，其投入的保证金会被以太坊锁定使用，在被解锁前是不能重复使用的

当然，如果校验者在投票时不投票不作为，被举报后会扣除保证金；两边下注后被举报，也会扣除保证金。

![image-20230917110951396](C:\Users\12404\Desktop\区块链学习计划\casper2.png)



## 以太坊分叉

软分叉有合并的可能，硬分叉不能合并。

以太坊的分叉和比特币不同，是因为黑客攻击引起的。

当黑客通过攻击偷取以太币后，下面有 种方法来干预：

#### 1、暴力分叉

![image-20230917112527650](C:\Users\12404\Desktop\区块链学习计划\暴力分叉.png)

#### 2、放弃the dao

![image-20230917113136414](C:\Users\12404\Desktop\区块链学习计划\放弃the dao.png)

但失败了，因为这次交易更新的策略中认为the dao 是非法交易，就没有收取汽油费，但之后导致以太坊内出现非常多的the dao 非法交易，导致以太坊网络瘫痪。

#### 3、硬分叉

以太坊新写出一个智能合约，规定当挖出第192万个区块后（假设）自动执行将所有the dao 交易的以太币转账交易退还给账户。

![image-20230917114108133](C:\Users\12404\Desktop\区块链学习计划\以太坊的硬分叉.png)











