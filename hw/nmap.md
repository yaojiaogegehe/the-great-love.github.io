## 扫描指定端口

```
nmap -p (range) <target IP>
namp -p 3389,20-200 192.168.227.133
```

## 扫描除过某一个ip外的所有子网主机

```
nmap 192.168.227.1/24 -exclude 192.168.227.1
```

## 显示扫描的所有主机的列表

```
nmap -sL 192.168.227.1/24
```

## sP ping 扫描

nmap 可以利用类似window/linux 系统下的ping方式进行扫描

```
nmap -sP <target ip>
```

一般来说 我们会用这个命令去扫描内网的一个ip范围，用来做内网的主机发现。

```
nmap -sP 192.168.227.1-255
```

PING扫描不同于其它的扫描方式，因为它只用于找出主机是否是存在在网络中的.它不是用来发现是否开放端口的.PING扫描需要ROOT权限，如果用户没有ROOT权限,PING扫描将会使用connect()调用.

## sS SYN半开放扫描

Nmap发送SYN包到远程主机

```
nmap -sS 192.168.227.1
```

但是它不会产生任何会话.因此不会**在目标主机上产生任何日志记录**,因为没有形成会话

## sT  TCP扫描

```
nmap -sT 192.168.227.133
```

扫描技术**只适用于找出TCP和UDP端口。**

## sU UDP扫描

```
nmap -sU 192.168.227.133
```

这种扫描技术**用来寻找目标主机打开的UDP端口**

## sF FIN标志的数据包扫描

```
nmap -sF 192.168.227.133
```

FIN扫描**也不会在目标主机上创建日志**(FIN扫描的优势之一).

## sV Version版本检测扫描

```
nmap -sV 192.168.227.133
```

版本检测是**用来扫描目标主机和端口上运行的软件的版本**.**

## O OS操作系统类型的探测

```
nmap -O 192.168.227.133
```

用来了解远程主机的操作系统和软件是非常有用的，通过获取的信息你可以知道已知的漏洞

## osscan-guess 猜测匹配操作系统

```
nmap -O --osscan-guess 192.168.227.133
```

**猜测认为最接近目标的匹配操作系统类型**

## PN No ping扫描

```
nmap -O -PN 192.168.227.1/24
```

如果远程主机有防火墙，IDS和IPS系统，**你可以使用-PN命令来确保不ping远程主机**，因为有时候防火墙会组织掉ping请求.-PN命令告诉Nmap不用ping远程主机。使用-PN参数可以绕过PING命令,但是不影响主机的系统的发现。

## T 设置时间模板

```
nmap -sS -T<0-5> 192.168.1.134
```

Nmap提供了一些简单的 方法，使用6个时间模板，使用时采用-T选项及数字(0 - 5) 或名称。模板名称有`paranoid (0)、sneaky (1)、polite (2)、normal(3)、 aggressive (4)和insane (5)`

paranoid、sneaky模式用于IDS躲避
Polite模式降低了扫描 速度以使用更少的带宽和目标主机资源。
Normal为默认模式，因此-T3 实际上是未做任何优化。
Aggressive模式假设用户具有合适及可靠的网络从而加速 扫描.
nsane模式假设用户具有特别快的网络或者愿意为获得速度而牺牲准确性。
